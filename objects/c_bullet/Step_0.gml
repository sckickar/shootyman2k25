sprite_direction = round(direction / 45) mod 8;

